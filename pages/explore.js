/* eslint-disable react-hooks/rules-of-hooks */
import { Box, Flex, Image, Text } from "@chakra-ui/react";
import styles from "../styles/Explore.module.css";
import React, { useEffect, useRef, useState } from "react";
// import axios from "axios";
import Head from "next/head";
import { dehydrate, QueryClient, useQuery } from "react-query";
import { CardSkeleton } from "../components/skeletons/CardSkeleton";
import { IoIosArrowForward, IoIosArrowBack } from "react-icons/io";
import { UpBtn } from "../components/UpBtn";
import { CardList } from "../components/containers/CardList";
import { NormalPagination } from "../components/shared-items/NormalPagination";
import axios from "../services/axios";

const getPhotos = async ({ queryKey }) => {
    const [_key, page] = queryKey;

    const { data } = await axios.get(
        `photos/?client_id=${process.env.NEXT_PUBLIC_ACCESS_KEY}&per_page=18&page=${page}`
    );

    return data;
};

export default function explore() {
    const [avgCards, setAvgCards] = useState(0);

    const outline = useRef(null);

    const [page, setPage] = useState(1);

    // const [loading, setLoading] = useState(true);

    // useEffect(() => {
    //     if (images?.length >= 1) setLoading(false);
    // }, []);

    const {
        isLoading,
        error,
        data: images,
    } = useQuery(["getPhotos", page], getPhotos, {
        keepPreviousData: true,
        staleTime: 3600000,
    });

    // scroll up
    useEffect(() => {
        if (typeof window !== "undefined") {
            window.scrollTo(0, 0);
        }
    }, [page]);

    // image text handler
    useEffect(() => {
        function scrolled() {
            if (typeof window !== "undefined" && outline.current?.style) {
                try {
                    outline.current.style.transform = `translateY(${
                        (window.scrollY * 25) / 190
                    }px)`;
                } catch (err) {
                    console.error(err);
                }
            }
        }

        if (typeof window !== "undefined") {
            window.addEventListener("scroll", scrolled);
        }

        return () => {
            console.log("event cancled");
            window.removeEventListener("scroll", scrolled);
        };
    }, []);

    // set average cards
    useEffect(() => {
        if (images?.length) {
            setAvgCards(Math.floor(images?.length / 3));
        }
    }, [images, images?.length]);

    // pagination handler functions
    const goPrevious = () => {
        if (page > 1) {
            setPage(page - 1);
        }
    };

    const goNext = () => {
        setPage(page + 1);
    };

    return (
        <>
            <Head>
                <title>Unsplash | Explore</title>
                <meta
                    name="viewport"
                    content="width=device-width, initial-scale=1.0"
                />
            </Head>
            <Box
                w="100%"
                px={{ base: "0.8rem", sm: "1.1rem", lg: "1.2rem" }}
                my="3rem"
            >
                <UpBtn />

                <Box bg="background" mt="1.5rem" className={styles.introText}>
                    <Flex
                        direction={{ base: "column", mobile: "row" }}
                        align={{ base: "center", mobile: "center" }}
                        justify={{ base: "center", mobile: "flex-start" }}
                        gap={{ base: "0", mobile: "0.9rem" }}
                        fontWeight="800"
                        letterSpacing="0.05em"
                        textTransform="uppercase"
                        className={styles.intro}
                        w={{ base: "100%", mobile: "max-content" }}
                    >
                        <Text className={styles.firstText}>
                            Start Exploring
                        </Text>{" "}
                        <Text className={styles.secondText}>With Us</Text>
                    </Flex>
                    <Box className={styles.outline} ref={outline}>
                        <svg
                            className={styles.outlineImg}
                            width="100%"
                            height="191"
                            viewBox="0 0 1392 191"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <g id="outline">
                                <g id="u" className={styles.letter}>
                                    <path d="M127.595 4.90909H165.882V122.512C165.882 135.717 162.728 147.271 156.421 157.174C150.172 167.077 141.418 174.8 130.159 180.341C118.9 185.823 105.784 188.564 90.8107 188.564C75.7788 188.564 62.6332 185.823 51.3739 180.341C40.1147 174.8 31.3608 167.077 25.1122 157.174C18.8636 147.271 15.7393 135.717 15.7393 122.512V4.90909H54.0266V119.24C54.0266 126.137 55.5298 132.268 58.5362 137.632C61.6016 142.997 65.9048 147.212 71.446 150.277C76.9872 153.342 83.4421 154.875 90.8107 154.875C98.2383 154.875 104.693 153.342 110.175 150.277C115.717 147.212 119.99 142.997 122.997 137.632C126.062 132.268 127.595 126.137 127.595 119.24V4.90909Z" />
                                    <path
                                        d="M127.595 4.90909V4.40909H127.095V4.90909H127.595ZM165.882 4.90909H166.382V4.40909H165.882V4.90909ZM156.421 157.174L155.999 156.905L155.998 156.907L156.421 157.174ZM130.159 180.341L130.378 180.79L130.38 180.79L130.159 180.341ZM51.3739 180.341L51.1532 180.79L51.155 180.79L51.3739 180.341ZM25.1122 157.174L24.6894 157.441L24.6894 157.441L25.1122 157.174ZM15.7393 4.90909V4.40909H15.2393V4.90909H15.7393ZM54.0266 4.90909H54.5266V4.40909H54.0266V4.90909ZM58.5362 137.632L58.1 137.877L58.1021 137.881L58.5362 137.632ZM71.446 150.277L71.204 150.715L71.204 150.715L71.446 150.277ZM110.175 150.277L109.933 149.839L109.931 149.841L110.175 150.277ZM122.997 137.632L122.563 137.384L122.561 137.388L122.997 137.632ZM127.595 5.40909H165.882V4.40909H127.595V5.40909ZM165.382 4.90909V122.512H166.382V4.90909H165.382ZM165.382 122.512C165.382 135.634 162.249 147.092 155.999 156.905L156.843 157.443C163.207 147.449 166.382 135.8 166.382 122.512H165.382ZM155.998 156.907C149.802 166.727 141.121 174.389 129.938 179.892L130.38 180.79C141.716 175.211 150.542 167.428 156.844 157.441L155.998 156.907ZM129.94 179.891C118.761 185.335 105.723 188.064 90.8107 188.064V189.064C105.845 189.064 119.038 186.312 130.378 180.79L129.94 179.891ZM90.8107 188.064C75.8396 188.064 62.7715 185.334 51.5928 179.891L51.155 180.79C62.4948 186.312 75.7179 189.064 90.8107 189.064V188.064ZM51.5947 179.892C40.4122 174.389 31.7308 166.727 25.5351 156.907L24.6894 157.441C30.9908 167.428 39.8172 175.211 51.1532 180.79L51.5947 179.892ZM25.5351 156.907C19.3431 147.094 16.2393 135.635 16.2393 122.512H15.2393C15.2393 135.799 18.3842 147.448 24.6894 157.441L25.5351 156.907ZM16.2393 122.512V4.90909H15.2393V122.512H16.2393ZM15.7393 5.40909H54.0266V4.40909H15.7393V5.40909ZM53.5266 4.90909V119.24H54.5266V4.90909H53.5266ZM53.5266 119.24C53.5266 126.212 55.0469 132.429 58.1001 137.877L58.9724 137.388C56.0127 132.107 54.5266 126.062 54.5266 119.24H53.5266ZM58.1021 137.881C61.2141 143.326 65.5847 147.606 71.204 150.715L71.6881 149.839C66.2249 146.817 61.989 142.667 58.9703 137.384L58.1021 137.881ZM71.204 150.715C76.8306 153.827 83.3714 155.375 90.8107 155.375V154.375C83.5128 154.375 77.1438 152.858 71.6881 149.839L71.204 150.715ZM90.8107 155.375C98.3081 155.375 104.85 153.827 110.419 150.713L109.931 149.841C104.536 152.857 98.1685 154.375 90.8107 154.375V155.375ZM110.417 150.715C116.038 147.606 120.38 143.325 123.433 137.877L122.561 137.388C119.601 142.669 115.396 146.818 109.933 149.839L110.417 150.715ZM123.431 137.881C126.544 132.432 128.095 126.214 128.095 119.24H127.095C127.095 126.061 125.58 132.104 122.563 137.384L123.431 137.881ZM128.095 119.24V4.90909H127.095V119.24H128.095Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="n" className={styles.letter}>
                                    <path d="M345.208 2.90909V184H312.138L233.353 70.0224H232.027V184H193.739V2.90909H227.34L305.506 116.798H307.098V2.90909H345.208Z" />
                                    <path
                                        d="M345.208 2.90909H345.708V2.40909H345.208V2.90909ZM345.208 184V184.5H345.708V184H345.208ZM312.138 184L311.727 184.284L311.876 184.5H312.138V184ZM233.353 70.0224L233.764 69.7381L233.615 69.5224H233.353V70.0224ZM232.027 70.0224V69.5224H231.527V70.0224H232.027ZM232.027 184V184.5H232.527V184H232.027ZM193.739 184H193.239V184.5H193.739V184ZM193.739 2.90909V2.40909H193.239V2.90909H193.739ZM227.34 2.90909L227.752 2.62615L227.603 2.40909H227.34V2.90909ZM305.506 116.798L305.094 117.081L305.243 117.298H305.506V116.798ZM307.098 116.798V117.298H307.598V116.798H307.098ZM307.098 2.90909V2.40909H306.598V2.90909H307.098ZM344.708 2.90909V184H345.708V2.90909H344.708ZM345.208 183.5H312.138V184.5H345.208V183.5ZM312.549 183.716L233.764 69.7381L232.942 70.3067L311.727 184.284L312.549 183.716ZM233.353 69.5224H232.027V70.5224H233.353V69.5224ZM231.527 70.0224V184H232.527V70.0224H231.527ZM232.027 183.5H193.739V184.5H232.027V183.5ZM194.239 184V2.90909H193.239V184H194.239ZM193.739 3.40909H227.34V2.40909H193.739V3.40909ZM226.928 3.19202L305.094 117.081L305.919 116.515L227.752 2.62615L226.928 3.19202ZM305.506 117.298H307.098V116.298H305.506V117.298ZM307.598 116.798V2.90909H306.598V116.798H307.598ZM307.098 3.40909H345.208V2.40909H307.098V3.40909Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="s" className={styles.letter}>
                                    <path d="M481.978 54.9904C481.27 47.8576 478.234 42.3164 472.87 38.3668C467.506 34.4172 460.225 32.4425 451.029 32.4425C444.781 32.4425 439.505 33.3267 435.202 35.0952C430.898 36.8047 427.597 39.1921 425.298 42.2575C423.058 45.3228 421.938 48.8008 421.938 52.6914C421.82 55.9336 422.498 58.7631 423.972 61.18C425.505 63.5969 427.597 65.6896 430.25 67.4581C432.903 69.1676 435.968 70.6708 439.446 71.9677C442.924 73.2056 446.638 74.2667 450.587 75.1509L466.857 79.0415C474.756 80.81 482.007 83.168 488.609 86.1154C495.212 89.0629 500.93 92.6882 505.763 96.9915C510.597 101.295 514.341 106.364 516.993 112.2C519.705 118.036 521.09 124.727 521.149 132.272C521.09 143.355 518.261 152.963 512.661 161.098C507.119 169.174 499.102 175.452 488.609 179.933C478.175 184.354 465.59 186.564 450.853 186.564C436.233 186.564 423.5 184.324 412.654 179.844C401.866 175.364 393.436 168.732 387.365 159.949C381.352 151.107 378.198 140.172 377.903 127.144H414.953C415.365 133.216 417.104 138.285 420.17 142.353C423.294 146.361 427.45 149.397 432.637 151.46C437.884 153.464 443.808 154.467 450.411 154.467C456.895 154.467 462.525 153.523 467.299 151.637C472.133 149.751 475.876 147.127 478.529 143.767C481.182 140.407 482.508 136.546 482.508 132.184C482.508 128.116 481.3 124.697 478.883 121.927C476.525 119.156 473.047 116.798 468.449 114.853C463.91 112.908 458.339 111.139 451.737 109.548L432.018 104.596C416.751 100.882 404.696 95.0756 395.853 87.1765C387.011 79.2773 382.619 68.6371 382.678 55.2557C382.619 44.2912 385.537 34.712 391.432 26.5181C397.386 18.3242 405.55 11.9283 415.925 7.33025C426.3 2.73224 438.09 0.433232 451.295 0.433232C464.735 0.433232 476.466 2.73224 486.487 7.33025C496.567 11.9283 504.408 18.3242 510.008 26.5181C515.608 34.712 518.496 44.2028 518.673 54.9904H481.978Z" />
                                    <path
                                        d="M481.978 54.9904L481.48 55.0398L481.525 55.4904H481.978V54.9904ZM435.202 35.0952L435.386 35.5599L435.392 35.5576L435.202 35.0952ZM425.298 42.2575L424.898 41.9574L424.895 41.9624L425.298 42.2575ZM421.938 52.6914L422.438 52.7096L422.438 52.7005V52.6914H421.938ZM423.972 61.18L423.545 61.4404L423.55 61.4478L423.972 61.18ZM430.25 67.4581L429.973 67.8742L429.979 67.8784L430.25 67.4581ZM439.446 71.9677L439.271 72.4362L439.278 72.4387L439.446 71.9677ZM450.587 75.1509L450.704 74.6646L450.697 74.663L450.587 75.1509ZM466.857 79.0415L466.741 79.5279L466.748 79.5295L466.857 79.0415ZM488.609 86.1154L488.406 86.572L488.406 86.572L488.609 86.1154ZM505.763 96.9915L506.096 96.618L506.096 96.618L505.763 96.9915ZM516.993 112.2L516.538 112.407L516.54 112.411L516.993 112.2ZM521.149 132.272L521.649 132.275L521.649 132.268L521.149 132.272ZM512.661 161.098L512.249 160.815L512.248 160.815L512.661 161.098ZM488.609 179.933L488.804 180.393L488.806 180.392L488.609 179.933ZM412.654 179.844L412.462 180.306L412.463 180.306L412.654 179.844ZM387.365 159.949L386.951 160.23L386.953 160.233L387.365 159.949ZM377.903 127.144V126.644H377.392L377.404 127.155L377.903 127.144ZM414.953 127.144L415.452 127.11L415.42 126.644H414.953V127.144ZM420.17 142.353L419.77 142.654L419.775 142.66L420.17 142.353ZM432.637 151.46L432.453 151.925L432.459 151.927L432.637 151.46ZM467.299 151.637L467.118 151.171L467.116 151.172L467.299 151.637ZM478.529 143.767L478.922 144.077L478.922 144.077L478.529 143.767ZM478.883 121.927L478.502 122.251L478.506 122.256L478.883 121.927ZM468.449 114.853L468.252 115.313L468.254 115.313L468.449 114.853ZM451.737 109.548L451.615 110.033L451.62 110.034L451.737 109.548ZM432.018 104.596L432.14 104.111L432.137 104.11L432.018 104.596ZM395.853 87.1765L395.52 87.5494L395.52 87.5494L395.853 87.1765ZM382.678 55.2557L383.178 55.2579L383.178 55.253L382.678 55.2557ZM391.432 26.5181L391.028 26.2242L391.026 26.2261L391.432 26.5181ZM486.487 7.33025L486.279 7.7847L486.28 7.78516L486.487 7.33025ZM510.008 26.5181L509.595 26.8002L509.595 26.8002L510.008 26.5181ZM518.673 54.9904V55.4904H519.182L519.173 54.9822L518.673 54.9904ZM482.475 54.9411C481.755 47.6794 478.654 42.0046 473.166 37.9642L472.574 38.7695C477.814 42.6282 480.785 48.0358 481.48 55.0398L482.475 54.9411ZM473.166 37.9642C467.689 33.9313 460.292 31.9425 451.029 31.9425V32.9425C460.159 32.9425 467.322 34.9032 472.574 38.7695L473.166 37.9642ZM451.029 31.9425C444.737 31.9425 439.392 32.8325 435.012 34.6327L435.392 35.5576C439.618 33.8209 444.825 32.9425 451.029 32.9425V31.9425ZM435.017 34.6305C430.646 36.3669 427.263 38.8044 424.898 41.9575L425.698 42.5575C427.932 39.5798 431.151 37.2425 435.386 35.5598L435.017 34.6305ZM424.895 41.9624C422.59 45.1157 421.438 48.6975 421.438 52.6914H422.438C422.438 48.904 423.526 45.5299 425.702 42.5525L424.895 41.9624ZM421.439 52.6732C421.318 55.9987 422.013 58.928 423.545 61.4403L424.399 60.9197C422.983 58.5983 422.323 55.8685 422.438 52.7096L421.439 52.6732ZM423.55 61.4478C425.124 63.9301 427.268 66.0713 429.973 67.8741L430.527 67.0421C427.926 65.3079 425.885 63.2638 424.394 60.9123L423.55 61.4478ZM429.979 67.8784C432.667 69.6104 435.765 71.1289 439.271 72.4362L439.621 71.4992C436.171 70.2127 433.139 68.7248 430.521 67.0378L429.979 67.8784ZM439.278 72.4387C442.777 73.6841 446.511 74.7506 450.478 75.6388L450.697 74.663C446.765 73.7828 443.071 72.7271 439.614 71.4966L439.278 72.4387ZM450.471 75.6372L466.741 79.5278L466.974 78.5553L450.704 74.6646L450.471 75.6372ZM466.748 79.5295C474.618 81.2915 481.837 83.6396 488.406 86.572L488.813 85.6588C482.177 82.6963 474.894 80.3285 466.966 78.5536L466.748 79.5295ZM488.406 86.572C494.966 89.5009 500.64 93.0995 505.431 97.3649L506.096 96.618C501.22 92.2769 495.457 88.6248 488.813 85.6588L488.406 86.572ZM505.431 97.3649C510.213 101.622 513.915 106.635 516.538 112.407L517.448 111.993C514.767 106.093 510.981 100.967 506.096 96.618L505.431 97.3649ZM516.54 112.411C519.217 118.172 520.591 124.79 520.649 132.276L521.649 132.268C521.59 124.664 520.193 117.901 517.447 111.99L516.54 112.411ZM520.649 132.27C520.591 143.264 517.785 152.772 512.249 160.815L513.072 161.382C518.736 153.154 521.59 143.445 521.649 132.275L520.649 132.27ZM512.248 160.815C506.769 168.801 498.833 175.024 488.413 179.473L488.806 180.392C499.371 175.881 507.47 169.548 513.073 161.381L512.248 160.815ZM488.414 179.472C478.058 183.861 465.542 186.064 450.853 186.064V187.064C465.638 187.064 478.293 184.847 488.804 180.393L488.414 179.472ZM450.853 186.064C436.283 186.064 423.618 183.832 412.845 179.382L412.463 180.306C423.383 184.817 436.183 187.064 450.853 187.064V186.064ZM412.846 179.382C402.138 174.935 393.788 168.362 387.776 159.665L386.953 160.233C393.085 169.103 401.594 175.793 412.462 180.306L412.846 179.382ZM387.778 159.668C381.83 150.921 378.696 140.085 378.403 127.133L377.404 127.155C377.7 140.258 380.873 151.292 386.951 160.23L387.778 159.668ZM377.903 127.644H414.953V126.644H377.903V127.644ZM414.454 127.178C414.872 133.327 416.636 138.495 419.77 142.654L420.569 142.052C417.573 138.076 415.859 133.104 415.452 127.11L414.454 127.178ZM419.775 142.66C422.96 146.745 427.191 149.832 432.453 151.925L432.822 150.996C427.709 148.962 423.628 145.977 420.564 142.045L419.775 142.66ZM432.459 151.927C437.771 153.957 443.758 154.967 450.411 154.967V153.967C443.859 153.967 437.996 152.972 432.816 150.993L432.459 151.927ZM450.411 154.967C456.942 154.967 462.637 154.017 467.483 152.102L467.116 151.172C462.412 153.03 456.848 153.967 450.411 153.967V154.967ZM467.481 152.103C472.38 150.191 476.203 147.521 478.922 144.077L478.137 143.458C475.55 146.734 471.886 149.31 467.118 151.171L467.481 152.103ZM478.922 144.077C481.645 140.627 483.008 136.656 483.008 132.184H482.008C482.008 136.436 480.718 140.188 478.137 143.458L478.922 144.077ZM483.008 132.184C483.008 128.009 481.765 124.47 479.26 121.598L478.506 122.256C480.835 124.925 482.008 128.224 482.008 132.184H483.008ZM479.264 121.603C476.84 118.755 473.288 116.357 468.644 114.392L468.254 115.313C472.806 117.239 476.21 119.558 478.502 122.251L479.264 121.603ZM468.646 114.393C464.073 112.434 458.474 110.657 451.854 109.062L451.62 110.034C458.204 111.621 463.746 113.382 468.252 115.313L468.646 114.393ZM451.859 109.063L432.14 104.111L431.897 105.081L451.615 110.033L451.859 109.063ZM432.137 104.11C416.924 100.41 404.951 94.6331 396.186 86.8036L395.52 87.5494C404.441 95.5182 416.578 101.355 431.9 105.082L432.137 104.11ZM396.186 86.8036C387.465 79.0127 383.12 68.5166 383.178 55.2579L382.178 55.2535C382.119 68.7575 386.557 79.542 395.52 87.5494L396.186 86.8036ZM383.178 55.253C383.12 44.3846 386.01 34.9107 391.838 26.8101L391.026 26.2261C385.064 34.5133 382.119 44.1978 382.178 55.2584L383.178 55.253ZM391.837 26.812C397.733 18.6976 405.824 12.3541 416.128 7.78737L415.723 6.87313C405.277 11.5024 397.039 17.9508 391.028 26.2242L391.837 26.812ZM416.128 7.78737C426.43 3.22188 438.149 0.933232 451.295 0.933232V-0.0667681C438.032 -0.0667681 426.171 2.24259 415.723 6.87313L416.128 7.78737ZM451.295 0.933232C464.679 0.933232 476.336 3.22253 486.279 7.7847L486.696 6.8758C476.596 2.24195 464.792 -0.0667681 451.295 -0.0667681V0.933232ZM486.28 7.78516C496.287 12.3499 504.052 18.6901 509.595 26.8002L510.421 26.236C504.763 17.9584 496.848 11.5066 486.695 6.87534L486.28 7.78516ZM509.595 26.8002C515.135 34.9063 517.998 44.2999 518.173 54.9986L519.173 54.9822C518.995 44.1056 516.081 34.5177 510.421 26.236L509.595 26.8002ZM518.673 54.4904H481.978V55.4904H518.673V54.4904Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="p" className={styles.letter}>
                                    <path d="M554.739 184V2.90909H626.185C639.92 2.90909 651.622 5.53231 661.289 10.7788C670.957 15.9663 678.326 23.1875 683.395 32.4425C688.524 41.6385 691.088 52.2493 691.088 64.2749C691.088 76.3004 688.494 86.9112 683.307 96.1072C678.119 105.303 670.603 112.466 660.759 117.594C650.973 122.723 639.125 125.287 625.213 125.287H579.675V94.604H619.023C626.392 94.604 632.463 93.3366 637.238 90.8018C642.072 88.2081 645.668 84.6417 648.026 80.1026C650.443 75.5046 651.651 70.2287 651.651 64.2749C651.651 58.2621 650.443 53.0156 648.026 48.5355C645.668 43.9964 642.072 40.489 637.238 38.0131C632.404 35.4783 626.274 34.2109 618.846 34.2109H593.027V184H554.739Z" />
                                    <path
                                        d="M554.739 184H554.239V184.5H554.739V184ZM554.739 2.90909V2.40909H554.239V2.90909H554.739ZM661.289 10.7788L661.051 11.2182L661.053 11.2193L661.289 10.7788ZM683.395 32.4425L682.957 32.6827L682.959 32.686L683.395 32.4425ZM660.759 117.594L660.528 117.151L660.527 117.151L660.759 117.594ZM579.675 125.287H579.175V125.787H579.675V125.287ZM579.675 94.604V94.104H579.175V94.604H579.675ZM637.238 90.8018L637.473 91.2435L637.475 91.2424L637.238 90.8018ZM648.026 80.1026L647.583 79.87L647.582 79.8721L648.026 80.1026ZM648.026 48.5355L647.582 48.766L647.586 48.7729L648.026 48.5355ZM637.238 38.0131L637.006 38.456L637.01 38.4582L637.238 38.0131ZM593.027 34.2109V33.7109H592.527V34.2109H593.027ZM593.027 184V184.5H593.527V184H593.027ZM555.239 184V2.90909H554.239V184H555.239ZM554.739 3.40909H626.185V2.40909H554.739V3.40909ZM626.185 3.40909C639.858 3.40909 651.473 6.0202 661.051 11.2182L661.528 10.3393C651.771 5.04442 639.983 2.40909 626.185 2.40909V3.40909ZM661.053 11.2193C670.639 16.363 677.936 23.5162 682.957 32.6827L683.834 32.2023C678.716 22.8588 671.275 15.5696 661.526 10.3382L661.053 11.2193ZM682.959 32.686C688.04 41.7975 690.588 52.3223 690.588 64.2749H691.588C691.588 52.1763 689.008 41.4794 683.832 32.1989L682.959 32.686ZM690.588 64.2749C690.588 76.2265 688.011 86.7504 682.871 95.8616L683.742 96.3529C688.978 87.072 691.588 76.3744 691.588 64.2749H690.588ZM682.871 95.8616C677.734 104.969 670.291 112.064 660.528 117.151L660.99 118.038C670.916 112.867 678.505 105.638 683.742 96.3529L682.871 95.8616ZM660.527 117.151C650.829 122.234 639.064 124.787 625.213 124.787V125.787C639.185 125.787 651.118 123.212 660.991 118.037L660.527 117.151ZM625.213 124.787H579.675V125.787H625.213V124.787ZM580.175 125.287V94.604H579.175V125.287H580.175ZM579.675 95.104H619.023V94.104H579.675V95.104ZM619.023 95.104C626.445 95.104 632.604 93.828 637.473 91.2435L637.004 90.3602C632.323 92.8453 626.338 94.104 619.023 94.104V95.104ZM637.475 91.2424C642.39 88.6047 646.062 84.968 648.47 80.3331L647.582 79.8721C645.274 84.3153 641.754 87.8115 637.002 90.3613L637.475 91.2424ZM648.469 80.3353C650.928 75.6556 652.151 70.2978 652.151 64.2749H651.151C651.151 70.1596 649.957 75.3536 647.583 79.87L648.469 80.3353ZM652.151 64.2749C652.151 58.1942 650.929 52.8633 648.466 48.2981L647.586 48.7729C649.957 53.1679 651.151 58.3299 651.151 64.2749H652.151ZM648.47 48.305C646.061 43.6679 642.386 40.0882 637.466 37.5681L637.01 38.4582C641.758 40.8897 645.275 44.325 647.582 48.766L648.47 48.305ZM637.47 37.5703C632.544 34.9869 626.327 33.7109 618.846 33.7109V34.7109C626.221 34.7109 632.265 35.9698 637.006 38.4559L637.47 37.5703ZM618.846 33.7109H593.027V34.7109H618.846V33.7109ZM592.527 34.2109V184H593.527V34.2109H592.527ZM593.027 183.5H554.739V184.5H593.027V183.5Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="l" className={styles.letter}>
                                    <path d="M725.739 184V2.90909H764.027V152.433H841.662V184H725.739Z" />
                                    <path
                                        d="M725.739 184H725.239V184.5H725.739V184ZM725.739 2.90909V2.40909H725.239V2.90909H725.739ZM764.027 2.90909H764.527V2.40909H764.027V2.90909ZM764.027 152.433H763.527V152.933H764.027V152.433ZM841.662 152.433H842.162V151.933H841.662V152.433ZM841.662 184V184.5H842.162V184H841.662ZM726.239 184V2.90909H725.239V184H726.239ZM725.739 3.40909H764.027V2.40909H725.739V3.40909ZM763.527 2.90909V152.433H764.527V2.90909H763.527ZM764.027 152.933H841.662V151.933H764.027V152.933ZM841.162 152.433V184H842.162V152.433H841.162ZM841.662 183.5H725.739V184.5H841.662V183.5Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="a" className={styles.letter}>
                                    <path d="M905.953 184H864.924L927.44 2.90909H976.78L1039.21 184H998.178L952.817 44.2912H951.402L905.953 184ZM903.388 112.819H1000.3V142.706H903.388V112.819Z" />
                                    <path
                                        d="M905.953 184V184.5H906.316L906.428 184.155L905.953 184ZM864.924 184L864.452 183.837L864.223 184.5H864.924V184ZM927.44 2.90909V2.40909H927.083L926.967 2.74593L927.44 2.90909ZM976.78 2.90909L977.253 2.74613L977.136 2.40909H976.78V2.90909ZM1039.21 184V184.5H1039.91L1039.68 183.837L1039.21 184ZM998.178 184L997.703 184.154L997.815 184.5H998.178V184ZM952.817 44.2912L953.293 44.1368L953.18 43.7912H952.817V44.2912ZM951.402 44.2912V43.7912H951.039L950.927 44.1365L951.402 44.2912ZM903.388 112.819V112.319H902.888V112.819H903.388ZM1000.3 112.819H1000.8V112.319H1000.3V112.819ZM1000.3 142.706V143.206H1000.8V142.706H1000.3ZM903.388 142.706H902.888V143.206H903.388V142.706ZM905.953 183.5H864.924V184.5H905.953V183.5ZM865.397 184.163L927.912 3.07224L926.967 2.74593L864.452 183.837L865.397 184.163ZM927.44 3.40909H976.78V2.40909H927.44V3.40909ZM976.307 3.07204L1038.73 184.163L1039.68 183.837L977.253 2.74613L976.307 3.07204ZM1039.21 183.5H998.178V184.5H1039.21V183.5ZM998.654 183.846L953.293 44.1368L952.342 44.4456L997.703 184.154L998.654 183.846ZM952.817 43.7912H951.402V44.7912H952.817V43.7912ZM950.927 44.1365L905.477 183.845L906.428 184.155L951.878 44.4459L950.927 44.1365ZM903.388 113.319H1000.3V112.319H903.388V113.319ZM999.8 112.819V142.706H1000.8V112.819H999.8ZM1000.3 142.206H903.388V143.206H1000.3V142.206ZM903.888 142.706V112.819H902.888V142.706H903.888Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="s_2" className={styles.letter}>
                                    <path d="M1158.98 54.9904C1158.27 47.8576 1155.23 42.3164 1149.87 38.3668C1144.51 34.4172 1137.23 32.4425 1128.03 32.4425C1121.78 32.4425 1116.5 33.3267 1112.2 35.0952C1107.9 36.8047 1104.6 39.1921 1102.3 42.2575C1100.06 45.3228 1098.94 48.8008 1098.94 52.6914C1098.82 55.9336 1099.5 58.7631 1100.97 61.18C1102.5 63.5969 1104.6 65.6896 1107.25 67.4581C1109.9 69.1676 1112.97 70.6708 1116.45 71.9677C1119.92 73.2056 1123.64 74.2667 1127.59 75.1509L1143.86 79.0415C1151.76 80.81 1159.01 83.168 1165.61 86.1154C1172.21 89.0629 1177.93 92.6882 1182.76 96.9915C1187.6 101.295 1191.34 106.364 1193.99 112.2C1196.7 118.036 1198.09 124.727 1198.15 132.272C1198.09 143.355 1195.26 152.963 1189.66 161.098C1184.12 169.174 1176.1 175.452 1165.61 179.933C1155.18 184.354 1142.59 186.564 1127.85 186.564C1113.23 186.564 1100.5 184.324 1089.65 179.844C1078.87 175.364 1070.44 168.732 1064.36 159.949C1058.35 151.107 1055.2 140.172 1054.9 127.144H1091.95C1092.37 133.216 1094.1 138.285 1097.17 142.353C1100.29 146.361 1104.45 149.397 1109.64 151.46C1114.88 153.464 1120.81 154.467 1127.41 154.467C1133.89 154.467 1139.52 153.523 1144.3 151.637C1149.13 149.751 1152.88 147.127 1155.53 143.767C1158.18 140.407 1159.51 136.546 1159.51 132.184C1159.51 128.116 1158.3 124.697 1155.88 121.927C1153.52 119.156 1150.05 116.798 1145.45 114.853C1140.91 112.908 1135.34 111.139 1128.74 109.548L1109.02 104.596C1093.75 100.882 1081.7 95.0756 1072.85 87.1765C1064.01 79.2773 1059.62 68.6371 1059.68 55.2557C1059.62 44.2912 1062.54 34.712 1068.43 26.5181C1074.39 18.3242 1082.55 11.9283 1092.93 7.33025C1103.3 2.73224 1115.09 0.433232 1128.29 0.433232C1141.74 0.433232 1153.47 2.73224 1163.49 7.33025C1173.57 11.9283 1181.41 18.3242 1187.01 26.5181C1192.61 34.712 1195.5 44.2028 1195.67 54.9904H1158.98Z" />
                                    <path
                                        d="M1158.98 54.9904L1158.48 55.0398L1158.52 55.4904H1158.98V54.9904ZM1112.2 35.0952L1112.39 35.5599L1112.39 35.5576L1112.2 35.0952ZM1102.3 42.2575L1101.9 41.9574L1101.89 41.9624L1102.3 42.2575ZM1098.94 52.6914L1099.44 52.7096L1099.44 52.7005V52.6914H1098.94ZM1100.97 61.18L1100.54 61.4404L1100.55 61.4478L1100.97 61.18ZM1107.25 67.4581L1106.97 67.8742L1106.98 67.8784L1107.25 67.4581ZM1116.45 71.9677L1116.27 72.4362L1116.28 72.4387L1116.45 71.9677ZM1127.59 75.1509L1127.7 74.6646L1127.7 74.663L1127.59 75.1509ZM1143.86 79.0415L1143.74 79.5279L1143.75 79.5295L1143.86 79.0415ZM1165.61 86.1154L1165.41 86.572L1165.41 86.572L1165.61 86.1154ZM1182.76 96.9915L1183.1 96.618L1183.1 96.618L1182.76 96.9915ZM1193.99 112.2L1193.54 112.407L1193.54 112.411L1193.99 112.2ZM1198.15 132.272L1198.65 132.275L1198.65 132.268L1198.15 132.272ZM1189.66 161.098L1189.25 160.815L1189.25 160.815L1189.66 161.098ZM1165.61 179.933L1165.8 180.393L1165.81 180.392L1165.61 179.933ZM1089.65 179.844L1089.46 180.306L1089.46 180.306L1089.65 179.844ZM1064.36 159.949L1063.95 160.23L1063.95 160.233L1064.36 159.949ZM1054.9 127.144V126.644H1054.39L1054.4 127.155L1054.9 127.144ZM1091.95 127.144L1092.45 127.11L1092.42 126.644H1091.95V127.144ZM1097.17 142.353L1096.77 142.654L1096.78 142.66L1097.17 142.353ZM1109.64 151.46L1109.45 151.925L1109.46 151.927L1109.64 151.46ZM1144.3 151.637L1144.12 151.171L1144.12 151.172L1144.3 151.637ZM1155.53 143.767L1155.92 144.077L1155.92 144.077L1155.53 143.767ZM1155.88 121.927L1155.5 122.251L1155.51 122.256L1155.88 121.927ZM1145.45 114.853L1145.25 115.313L1145.25 115.313L1145.45 114.853ZM1128.74 109.548L1128.62 110.033L1128.62 110.034L1128.74 109.548ZM1109.02 104.596L1109.14 104.111L1109.14 104.11L1109.02 104.596ZM1072.85 87.1765L1072.52 87.5494L1072.52 87.5494L1072.85 87.1765ZM1059.68 55.2557L1060.18 55.2579L1060.18 55.253L1059.68 55.2557ZM1068.43 26.5181L1068.03 26.2242L1068.03 26.2261L1068.43 26.5181ZM1163.49 7.33025L1163.28 7.7847L1163.28 7.78516L1163.49 7.33025ZM1187.01 26.5181L1186.6 26.8002L1186.6 26.8002L1187.01 26.5181ZM1195.67 54.9904V55.4904H1196.18L1196.17 54.9822L1195.67 54.9904ZM1159.48 54.9411C1158.76 47.6794 1155.65 42.0046 1150.17 37.9642L1149.57 38.7695C1154.81 42.6282 1157.79 48.0358 1158.48 55.0398L1159.48 54.9411ZM1150.17 37.9642C1144.69 33.9313 1137.29 31.9425 1128.03 31.9425V32.9425C1137.16 32.9425 1144.32 34.9032 1149.57 38.7695L1150.17 37.9642ZM1128.03 31.9425C1121.74 31.9425 1116.39 32.8325 1112.01 34.6327L1112.39 35.5576C1116.62 33.8209 1121.83 32.9425 1128.03 32.9425V31.9425ZM1112.02 34.6305C1107.65 36.3669 1104.26 38.8044 1101.9 41.9575L1102.7 42.5575C1104.93 39.5798 1108.15 37.2425 1112.39 35.5598L1112.02 34.6305ZM1101.89 41.9624C1099.59 45.1157 1098.44 48.6975 1098.44 52.6914H1099.44C1099.44 48.904 1100.53 45.5299 1102.7 42.5525L1101.89 41.9624ZM1098.44 52.6732C1098.32 55.9987 1099.01 58.928 1100.55 61.4403L1101.4 60.9197C1099.98 58.5983 1099.32 55.8685 1099.44 52.7096L1098.44 52.6732ZM1100.55 61.4478C1102.12 63.9301 1104.27 66.0713 1106.97 67.8741L1107.53 67.0421C1104.93 65.3079 1102.89 63.2638 1101.39 60.9123L1100.55 61.4478ZM1106.98 67.8784C1109.67 69.6104 1112.77 71.1289 1116.27 72.4362L1116.62 71.4992C1113.17 70.2127 1110.14 68.7248 1107.52 67.0378L1106.98 67.8784ZM1116.28 72.4387C1119.78 73.6841 1123.51 74.7506 1127.48 75.6388L1127.7 74.663C1123.76 73.7828 1120.07 72.7271 1116.61 71.4966L1116.28 72.4387ZM1127.47 75.6372L1143.74 79.5278L1143.97 78.5553L1127.7 74.6646L1127.47 75.6372ZM1143.75 79.5295C1151.62 81.2915 1158.84 83.6396 1165.41 86.572L1165.81 85.6588C1159.18 82.6963 1151.89 80.3285 1143.97 78.5536L1143.75 79.5295ZM1165.41 86.572C1171.97 89.5009 1177.64 93.0995 1182.43 97.3649L1183.1 96.618C1178.22 92.2769 1172.46 88.6248 1165.81 85.6588L1165.41 86.572ZM1182.43 97.3649C1187.21 101.622 1190.91 106.635 1193.54 112.407L1194.45 111.993C1191.77 106.093 1187.98 100.967 1183.1 96.618L1182.43 97.3649ZM1193.54 112.411C1196.22 118.172 1197.59 124.79 1197.65 132.276L1198.65 132.268C1198.59 124.664 1197.19 117.901 1194.45 111.99L1193.54 112.411ZM1197.65 132.27C1197.59 143.264 1194.79 152.772 1189.25 160.815L1190.07 161.382C1195.74 153.154 1198.59 143.445 1198.65 132.275L1197.65 132.27ZM1189.25 160.815C1183.77 168.801 1175.83 175.024 1165.41 179.473L1165.81 180.392C1176.37 175.881 1184.47 169.548 1190.07 161.381L1189.25 160.815ZM1165.41 179.472C1155.06 183.861 1142.54 186.064 1127.85 186.064V187.064C1142.64 187.064 1155.29 184.847 1165.8 180.393L1165.41 179.472ZM1127.85 186.064C1113.28 186.064 1100.62 183.832 1089.84 179.382L1089.46 180.306C1100.38 184.817 1113.18 187.064 1127.85 187.064V186.064ZM1089.85 179.382C1079.14 174.935 1070.79 168.362 1064.78 159.665L1063.95 160.233C1070.08 169.103 1078.59 175.793 1089.46 180.306L1089.85 179.382ZM1064.78 159.668C1058.83 150.921 1055.7 140.085 1055.4 127.133L1054.4 127.155C1054.7 140.258 1057.87 151.292 1063.95 160.23L1064.78 159.668ZM1054.9 127.644H1091.95V126.644H1054.9V127.644ZM1091.45 127.178C1091.87 133.327 1093.64 138.495 1096.77 142.654L1097.57 142.052C1094.57 138.076 1092.86 133.104 1092.45 127.11L1091.45 127.178ZM1096.78 142.66C1099.96 146.745 1104.19 149.832 1109.45 151.925L1109.82 150.996C1104.71 148.962 1100.63 145.977 1097.56 142.045L1096.78 142.66ZM1109.46 151.927C1114.77 153.957 1120.76 154.967 1127.41 154.967V153.967C1120.86 153.967 1115 152.972 1109.82 150.993L1109.46 151.927ZM1127.41 154.967C1133.94 154.967 1139.64 154.017 1144.48 152.102L1144.12 151.172C1139.41 153.03 1133.85 153.967 1127.41 153.967V154.967ZM1144.48 152.103C1149.38 150.191 1153.2 147.521 1155.92 144.077L1155.14 143.458C1152.55 146.734 1148.89 149.31 1144.12 151.171L1144.48 152.103ZM1155.92 144.077C1158.65 140.627 1160.01 136.656 1160.01 132.184H1159.01C1159.01 136.436 1157.72 140.188 1155.14 143.458L1155.92 144.077ZM1160.01 132.184C1160.01 128.009 1158.76 124.47 1156.26 121.598L1155.51 122.256C1157.83 124.925 1159.01 128.224 1159.01 132.184H1160.01ZM1156.26 121.603C1153.84 118.755 1150.29 116.357 1145.64 114.392L1145.25 115.313C1149.81 117.239 1153.21 119.558 1155.5 122.251L1156.26 121.603ZM1145.65 114.393C1141.07 112.434 1135.47 110.657 1128.85 109.062L1128.62 110.034C1135.2 111.621 1140.75 113.382 1145.25 115.313L1145.65 114.393ZM1128.86 109.063L1109.14 104.111L1108.9 105.081L1128.62 110.033L1128.86 109.063ZM1109.14 104.11C1093.92 100.41 1081.95 94.6331 1073.19 86.8036L1072.52 87.5494C1081.44 95.5182 1093.58 101.355 1108.9 105.082L1109.14 104.11ZM1073.19 86.8036C1064.47 79.0127 1060.12 68.5166 1060.18 55.2579L1059.18 55.2535C1059.12 68.7575 1063.56 79.542 1072.52 87.5494L1073.19 86.8036ZM1060.18 55.253C1060.12 44.3846 1063.01 34.9107 1068.84 26.8101L1068.03 26.2261C1062.06 34.5133 1059.12 44.1978 1059.18 55.2584L1060.18 55.253ZM1068.84 26.812C1074.73 18.6976 1082.82 12.3541 1093.13 7.78737L1092.72 6.87313C1082.28 11.5024 1074.04 17.9508 1068.03 26.2242L1068.84 26.812ZM1093.13 7.78737C1103.43 3.22188 1115.15 0.933232 1128.29 0.933232V-0.0667681C1115.03 -0.0667681 1103.17 2.24259 1092.72 6.87313L1093.13 7.78737ZM1128.29 0.933232C1141.68 0.933232 1153.34 3.22253 1163.28 7.7847L1163.7 6.8758C1153.6 2.24195 1141.79 -0.0667681 1128.29 -0.0667681V0.933232ZM1163.28 7.78516C1173.29 12.3499 1181.05 18.6901 1186.6 26.8002L1187.42 26.236C1181.76 17.9584 1173.85 11.5066 1163.69 6.87534L1163.28 7.78516ZM1186.6 26.8002C1192.14 34.9063 1195 44.2999 1195.17 54.9986L1196.17 54.9822C1195.99 44.1056 1193.08 34.5177 1187.42 26.236L1186.6 26.8002ZM1195.67 54.4904H1158.98V55.4904H1195.67V54.4904Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                                <g id="h" className={styles.letter}>
                                    <path d="M1225.74 184V2.90909H1264.03V77.6268H1341.75V2.90909H1379.95V184H1341.75V109.194H1264.03V184H1225.74Z" />
                                    <path
                                        d="M1225.74 184H1225.24V184.5H1225.74V184ZM1225.74 2.90909V2.40909H1225.24V2.90909H1225.74ZM1264.03 2.90909H1264.53V2.40909H1264.03V2.90909ZM1264.03 77.6268H1263.53V78.1268H1264.03V77.6268ZM1341.75 77.6268V78.1268H1342.25V77.6268H1341.75ZM1341.75 2.90909V2.40909H1341.25V2.90909H1341.75ZM1379.95 2.90909H1380.45V2.40909H1379.95V2.90909ZM1379.95 184V184.5H1380.45V184H1379.95ZM1341.75 184H1341.25V184.5H1341.75V184ZM1341.75 109.194H1342.25V108.694H1341.75V109.194ZM1264.03 109.194V108.694H1263.53V109.194H1264.03ZM1264.03 184V184.5H1264.53V184H1264.03ZM1226.24 184V2.90909H1225.24V184H1226.24ZM1225.74 3.40909H1264.03V2.40909H1225.74V3.40909ZM1263.53 2.90909V77.6268H1264.53V2.90909H1263.53ZM1264.03 78.1268H1341.75V77.1268H1264.03V78.1268ZM1342.25 77.6268V2.90909H1341.25V77.6268H1342.25ZM1341.75 3.40909H1379.95V2.40909H1341.75V3.40909ZM1379.45 2.90909V184H1380.45V2.90909H1379.45ZM1379.95 183.5H1341.75V184.5H1379.95V183.5ZM1342.25 184V109.194H1341.25V184H1342.25ZM1341.75 108.694H1264.03V109.694H1341.75V108.694ZM1263.53 109.194V184H1264.53V109.194H1263.53ZM1264.03 183.5H1225.74V184.5H1264.03V183.5Z"
                                        fill="#2A2A27"
                                    />
                                </g>
                            </g>
                        </svg>
                    </Box>
                </Box>

                {isLoading ? (
                    <CardSkeleton />
                ) : (
                    <CardList data={images} avgCards={avgCards} />
                )}

                <Flex w="100%" justify="center" align="center" mt="5rem">
                    <NormalPagination
                        goNext={goNext}
                        goPrevious={goPrevious}
                        current={page}
                    />
                </Flex>
            </Box>

            {/* </Box> */}
        </>
    );
}

export const getServerSideProps = async () => {
    const queryClient = new QueryClient();

    await queryClient.prefetchQuery(["getPhotos", 1], getPhotos);

    return {
        props: {
            dehydratedState: dehydrate(queryClient),
        },
    };
};
